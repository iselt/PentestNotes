# SQLi过滤绕过

## `and`, `or` 过滤

1. 大小写绕过

2. 复写绕过

3. `&&`, `||` 绕过

> 用 `&&` 和 `||` 代替 `and` 和 `or`
>
> 提交的时候要使用URL编码

## 空格过滤

1. 只用括号

2. `+` 代替空格

> 很多时候被当作连接符或运算符，而不是空格

3. URL编码代替空格

| 符号 | URL编码 |
| ---- | ------- |
|`spaces`|`%20`|
|`tab`|`%09`|
|`LF OA new line`|`%0a`|
|`FF 0C new page`|`%0c`|
|`CR 0D carriage return`|`%0d`|
|`VT 0B vertical tab`|`%0b`|
|`-OA-` (MySQL Only)|`%a0`|

## 逗号过滤

join绕过

```sql
union select 1,2,3 --等于↓
union select * from (select 1)a join (select 2)b join (select 3)c
```

## union和select过滤

1. 复写、大小写、/**/

2. mysql8版本的table绕过

<https://www.freebuf.com/articles/web/275528.html>

## addslashes过滤

宽字节注入（局限性：数据库使用GBK编码）

如输入`%df'`，转义后为`<0xdf>\'`，数据库会认为是`<0xdf0x5c>'`，`0xdf0x5c`组成一个汉字`運`

## 其他WAF绕过手段

1. 注释

   - `/*xxx*/`：不执行
   - `/*!xxx*/`：执行
   - `/*!90000xxx*/`：不执行

2. 换行

   - WAF单行匹配，通过换行分开词组，如`union select` -> `union --+b%0a select`

3. 超大数据包绕过

4. POST分段传输
