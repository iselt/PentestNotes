# Log4j 漏洞合集

<https://mp.weixin.qq.com/s?__biz=MzUzNTEyMTE0Mw==&mid=2247485584&idx=1&sn=2fad11942986807ea7545f7b8b5d6af8&scene=21#wechat_redirect>

<https://cloud.tencent.com/developer/article/1919456>

Log4j 是一个流行的 Java 日志记录库，但它在 2021 年末被发现存在严重的安全漏洞。这些漏洞包括：

1. CVE-2021-44228（Log4Shell）:
   - 描述: 这是一个远程代码执行（RCE）漏洞，影响 Log4j 2.0-beta9 到 2.14.1 版本。攻击者可以通过特制的日志消息利用 JNDI（Java Naming and Directory Interface）注入来执行任意代码。
   - 影响: 这个漏洞非常严重，因为许多 Java 应用程序都使用 Log4j 进行日志记录。攻击者可以远程执行代码，导致数据泄露、系统入侵等。
   - 修复: 在 2.15.0 版本中修复，通过禁用 JNDI 默认查找机制来解决问题。

2. CVE-2021-45046:
   - 描述: 这个漏洞是 Log4Shell 的一个变种，发现 2.15.0 版本的修复不完全，攻击者仍然可以通过特定的方式绕过限制，执行部分代码。
   - 影响: 尽管比 CVE-2021-44228 的影响稍小，但仍然具有高危性，尤其是在某些配置中。
   - 修复: 在 2.16.0 版本中进一步加强了 JNDI 查找机制的限制。

3. CVE-2021-45105:
   - 描述: 这是一个拒绝服务（DoS）漏洞，影响 2.0-beta9 到 2.16.0 版本。通过递归查找模式，攻击者可以导致堆栈溢出，从而使应用程序崩溃。
   - 影响: 攻击者可以通过特制的输入引发服务中断，导致应用程序不可用。
   - 修复: 在 2.17.0 版本中修复，通过限制查找模式的递归深度。

4. CVE-2021-44832:
   - 描述: 这是一个本地代码执行漏洞，影响 Log4j 2.0-alpha1 到 2.17.0 版本。攻击者可以通过修改 Log4j 配置文件来执行任意代码。
   - 影响: 需要有特定权限访问配置文件，虽然风险较低，但在某些情况下仍然可能被利用。
   - 修复: 在 2.17.1 版本中修复，限制了配置文件的加载机制。

这些漏洞的发现引发了全球范围内的安全风暴，因为 Log4j 被广泛使用。各组织纷纷采取紧急措施，更新受影响的软件版本，以防止潜在的攻击。对于使用 Log4j 的应用程序，建议尽快升级到最新版本，并密切关注官方发布的安全公告。
